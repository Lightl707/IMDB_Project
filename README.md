# IMDB-Internet Movie Database.

Сервис использует протокол HTTP и формат JSON для передачи данных, авторизация Basic Auth.

### Сервис имеет интерфейс для пользователя и администратора:
> - создание аккаунта(**администратора** придется  добавлять вручную в базу, поскольку сервер будет выдавать ошибку
>
>
>### CRUD User (пользователь):
>> - `localhost:22896/user/` (**post**) - создает нового пользователя. **Автоматически дает роль USER**
> **Важно**:Все дальнейшие действия может проводить *ТОЛЬКО* авторизованный пользователь
>> - `localhost:22896/user/` (**get**) - возвращает всех пользователей.
>> - `localhost:22896/user/:id` (**get**) - возвращает пользователя по id
>> - `localhost:22896/user/` (**patch**) - редактирует данные пользователя. **Пользователь может редактировать только себя, администратор всех**
>> - `localhost:22896/user/:id` (**delete**) - удаляет пользователя из базы данных. **Пользователь может удалить только себя, администратор всех, кроме другого администратора**
> ### CRUD Film (Фильмы):
>>#### Для администратора
>> - `localhost:22896/film/` (**post**) - добавление фильма в датабазу.
>> - `localhost:22896/film/:id` (**delete**) - удаление фильма из датабазы.
>> - `localhost:22896/film/` (**get**) - возвращает все фильмы из датабазы.
>> - `localhost:22896/film/:id` (**get**) - возвращает фильм по указанному id.

> ### CRUD Genre (Жанры):
>>#### Для администратора
>> - `localhost:22896/genre/` (**post**) - добавление жанра.
>> - `localhost:22896/genre/:id` (**delete**) - удаление жанра.
>> - `localhost:22896/genre/` (**get**) - возвращает все жанры.
>> - `localhost:22896/genre/:id` (**get**) - возвращает жанр по указанному id.

> ### CRUD Staff (Персонал Фильма):
>>#### Для администратора
>> - `localhost:22896/staff/` (**post**) - добавление персонала.
>> - `localhost:22896/staff/:id` (**delete**) - удаление персонала.
>> - `localhost:22896/staff/` (**get**) - возвращает список всех персоналов.
>> - `localhost:22896/staff/:id` (**get**) - возвращает персонала по указанному id.

> ### CRUD Staff (Персонал Фильма):
>>#### Для администратора
>> - `localhost:22896/staff/` (**post**) - добавление персонала.
>> - `localhost:22896/staff/:id` (**delete**) - удаление персонала.
>> - `localhost:22896/staff/` (**get**) - возвращает список всех персоналов.
>> - `localhost:22896/staff/:id` (**get**) - возвращает персонала по указанному id.

> ### CRUD Rating (Отзывы):
>>#### Для администратора и Пользователя
>> - `localhost:22896/rating/` (**post**) - добавление отзыва.
>> - `localhost:22896/rating/` (**get**) - возвращает список всех отзывов.
>>#### Для администратора
>> - `localhost:22896/rating/:id` (**delete**) - удаление отзыва
>> - `localhost:22896/staff/:id` (**get**) - возвращает отзыв по указанному id.
   
## Свойства энтити базы:
- **user**:
   - *id*
   - *fname*
   - *lname*
   - *email*
   - *password*
   - *role*
- **staff**:
   - *id*
   - *fname*
   - *lname*
   - *email*
   - *dateOfBirthday*
   - *picture*
- **rating**:
   - *id*
   - *number*
   - *comment_id*
- **role**:
   - *USER*
   - *ADMIN*
- **language**:
   - *id*
   - *LanguageCode*
- **genre**
   - *id*
   - *name*
- **film**
    - *id*
    - *genre_id*
    - *description*
    - *year*
    - *language_id*
    - *staff_id*
    - *rating_id*
- **comment**
    - *id*
    - *authorC*
    - *textC*

### Проект на стадии разработки, в последствии будет добавляться новый функционал
